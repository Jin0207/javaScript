<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript">
	$(function() {
		//500-내부-서버-오류
		//java.lang.NumberFormatException: null
		$("button").click(function() {
			
			let data = {
					no: $("#no").val()
			};
			
			$.ajax({
				url: "getBook_xml.jsp",
				data: data,
				success: function(data){
					/*
					//xml의 노드찾기 find()
					$(data).find("book").each(function() {
						$("#bookName").text( $(this).find("bookName").text() );
						$("#publisher").text( $(this).find("publisher").text() );
						$("#price").text( $(this).find("price").text() );
					});
					*/
					let span_list = $("span");
					let bookname = $(data).find("bookName").text();
					let publisher = $(data).find("publisher").text();
					let price = $(data).find("price").text();
					
					$(span_list[0]).html(bookname);
					$(span_list[1]).html(publisher);
					$(span_list[2]).html(price);
				}
			});
		});
		
	});

</script>
</head>
<body>
	도서번호: <input type="text" id="no"><br>
	도서명: <span id="bookName"></span><br>
	출판사: <span id="publisher"></span><br>
	가격: <span id="price"></span><br>
	<button>도서정보 읽어오기</button>
</body>
</html>